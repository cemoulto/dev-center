<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Android Client • Algorithmia Developer Center</title>
    <meta name="description" content="Get going with the Python client on Algorithmia.">
    <meta name="keywords" content="clients">
    
    
    <!-- Twitter Cards -->
<meta name="twitter:title" content="The Android Client">
<meta name="twitter:description" content="Get going with the Python client on Algorithmia.">
<meta name="twitter:site" content="@algorithmia">
<meta name="twitter:creator" content="@algorithmia">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://developers.algorithmia.com/images/logos/AlgorithmiaLogo120x120.png">


<!-- Open Graph -->

<meta property="og:image" content="http://developers.algorithmia.com/images/logos/AlgorithmiaLogo.png">


<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="The Android Client">
<meta property="og:description" content="Get going with the Python client on Algorithmia.">
<meta property="og:url" content="http://developers.algorithmia.com/application-development/client-guides/android">
<meta property="og:site_name" content="Algorithmia Developer Center">

    <link rel="canonical" href="http://developers.algorithmia.com/application-development/client-guides/android">

    <link href="http://developers.algorithmia.com/atom.xml" type="application/atom+xml" rel="alternate" title="Algorithmia Developer Center Atom Feed">
    <link href="http://developers.algorithmia.com/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="http://developers.algorithmia.com/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="http://developers.algorithmia.com/js/vendor/html5shiv.min.js"></script>
      <script src="http://developers.algorithmia.com/js/vendor/respond.min.js"></script>
    <![endif]-->
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-38617973-1', 'auto');
     ga('send', 'pageview');

    </script>
  </head>

  <body id="js-body">
    <div id="wrapper">
      <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

      <header id="masthead">
  <div class="inner-wrap">
    <a href="http://developers.algorithmia.com/" class="site-title">
      <img src="http://developers.algorithmia.com/images/logos/algorithmia-white-logo.png" class="nav-image" alt="Algorithmia Developer Center" itemprop="image">
    </a>

    <nav role="navigation" class="menu top-menu">
      <ul class="menu-item">
  
    
      
      

    
      <li><a href="http://docs.algorithmia.com" target="_blank">
        API Docs
      </a></li>
    
  
    
      
    

    
      <li><a href="http://developers.algorithmia.com/algorithm-development" >
        Algorithm Development
      </a></li>
    
  
    
      
    

    
      <li><a href="http://developers.algorithmia.com/application-development" >
        Application Development
      </a></li>
    
  
    
      
    

    
      <li><a href="http://developers.algorithmia.com/faqs/" >
        FAQs
      </a></li>
    
  
    
      
    

    
      <li><a href="http://developers.algorithmia.com/search/">
        <i class="fa fa-search"></i> 
      </a></li>
    
  
</ul>
    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->
      <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>Algorithmia Developer Center</h5>
  <ul class="menu-item">
    <li>
      <a href="http://developers.algorithmia.comhttp://docs.algorithmia.com">
        <img src="http://developers.algorithmia.com/images/icons/Algorithmia_API Docs.png" alt="teaser" class="teaser">
        <div class="title">API Docs</div>
        <p class="excerpt">Read up on the ins and outs of using the Algorithmia API.</p>
      </a>
    </li><li>
      <a href="http://developers.algorithmia.com/algorithm-development">
        <img src="http://developers.algorithmia.com/images/icons/Algorithmia_Sample_Apps.png" alt="teaser" class="teaser">
        <div class="title">Algorithm Development</div>
        <p class="excerpt">Find out how to host your models and build an algorithm on Algorithmia.</p>
      </a>
    </li><li>
      <a href="http://developers.algorithmia.com/application-development">
        <img src="http://developers.algorithmia.com/images/icons/Algorithmia_Clients.png" alt="teaser" class="teaser">
        <div class="title">Application Development</div>
        <p class="excerpt">Discover how to use algorithms in your application.</p>
      </a>
    </li><li>
      <a href="http://developers.algorithmia.com/faqs/">
        <img src="http://developers.algorithmia.com/images/icons/Algorithmia_FAQs.png" alt="teaser" class="teaser">
        <div class="title">FAQs</div>
        <p class="excerpt">Find quick answers to common questions.</p>
      </a>
    </li><li>
      <a href="http://developers.algorithmia.com/search/">
        <img src="http://developers.algorithmia.com/images/icons/Algorithmia_Search.png" alt="teaser" class="teaser">
        <div class="title">Search</div>
        <p class="excerpt">Search the Developer Center for the information you need to get started</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>

      
      <div id="page-wrapper">

	<div id="main" role="main">
		<article class="wrap" itemscope itemtype="http://schema.org/Article">

  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://developers.algorithmia.com" itemprop="url">
        <span itemprop="title">Home</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://developers.algorithmia.com/clients/" itemprop="url">
        <span itemprop="title">Clients</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->

			<div class="page-title">
				<h1>The Android Client</h1>
				
				      <p class="github-note">
						Available on <a href='https://github.com/algorithmiaio/algorithmia-android.git']}' target='_blank' rel='nofollow'>GitHub</a>.
					  </p>
				
			</div>

			<div class="inner-wrap">
				<div id="content" class="page-content" itemprop="articleBody">
					<p>This guide provides a walk-through of how to use the official Algorithmia Android client to call algorithms and manage your data through the Algorithmia platform.</p>

<h2 id="getting-started">Getting started</h2>

<p>The Algorithmia Android client is published to Maven central and can be added as a dependency in Android Studio.</p>

<p><strong>Note:</strong> Because our Java client depends on Apache HTTP Client, it is not compatible with the Android Runtime. In early versions of android, a legacy version of apache http client came pre-bundled, but was not updated over time. In recent android versions (6.0+) it was removed entirely. The algorithmia-android client uses native HttpURLConnection as its underlying client, as recommended by the Android documentation.</p>

<p>For API documentation, see the <a href="https://algorithmia.com/docs/lang/java">JavaDocs</a></p>

<p>To add the Algorithmia Android client, add the following line to your app/build.gradle file:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">compile</span> <span class="s">&quot;com.algorithmia:algorithmia-android:1.0.1&quot;</span></code></pre></div>

<p>Instantiate a client using your API Key:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">AlgorithmiaClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">Algorithmia</span><span class="o">.</span><span class="na">client</span><span class="o">(</span><span class="n">apiKey</span><span class="o">);</span></code></pre></div>

<p><strong>Note:</strong> The API key may be omitted only when making calls from algorithms running on the Algorithmia cluster</p>

<h3 id="android-threads">Android Threads</h3>

<p>It is necessary to perform network operations (such as calling Algorithmia) on a background thread in Android, to avoid impacting UI performance. The standard way to acheive this in Android is to use an AsyncTask.</p>

<p>See Android documentation about UI vs. Background threads: <a href="https://developer.android.com/guide/components/processes-and-threads.html">Processes and Threads</a></p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/**</span>
<span class="cm"> * AsyncTask helper to make it easy to call Algorithmia in the background</span>
<span class="cm"> * @param &lt;T&gt; the type of the input to send to the algorithm</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AlgorithmiaTask</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">AsyncTask</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">Void</span><span class="o">,</span> <span class="n">AlgoResponse</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&quot;AlgorithmiaTask&quot;</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">algoUrl</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">AlgorithmiaClient</span> <span class="n">client</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Algorithm</span> <span class="n">algo</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">AlgorithmiaTask</span><span class="o">(</span><span class="n">String</span> <span class="n">api_key</span><span class="o">,</span> <span class="n">String</span> <span class="n">algoUrl</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">();</span>

        <span class="k">this</span><span class="o">.</span><span class="na">algoUrl</span> <span class="o">=</span> <span class="n">algoUrl</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">Algorithmia</span><span class="o">.</span><span class="na">client</span><span class="o">(</span><span class="n">api_key</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="n">algoUrl</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">AlgoResponse</span> <span class="nf">doInBackground</span><span class="o">(</span><span class="n">T</span><span class="o">...</span> <span class="n">inputs</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">inputs</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">T</span> <span class="n">input</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
            <span class="c1">// Call algorithmia</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
                <span class="k">return</span> <span class="n">response</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">APIException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Connection error</span>
                <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">&quot;Algorithmia API Exception&quot;</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// Too many inputs</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></div>

<h2 id="calling-algorithms">Calling Algorithms</h2>

<p>The following examples of calling algorithms are organized by type of input/output which vary between algorithms.</p>

<p><strong>Note:</strong> A single algorithm may have different input and output types, or accept multiple types of input, so consult the algorithm’s description for usage examples specific to that algorithm.</p>

<h3 id="text-inputouput">Text input/ouput</h3>

<p>Call an algorithm with text input by simply passing a string into its pipe method. If the algorithm output is text, call the asString method on the response.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Algorithm</span> <span class="n">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;algo://demo/Hello/0.1.1&quot;</span><span class="o">);</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="s">&quot;HAL 9000&quot;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">asString</span><span class="o">());</span>
<span class="c1">// -&gt; Hello HAL 9000</span></code></pre></div>

<h3 id="numeric-inputoutput">Numeric input/output</h3>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">com.algorithmia.TypeToken</span><span class="o">;</span>

<span class="n">Algorithm</span> <span class="n">addOne</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;docs/JavaAddOne&quot;</span><span class="o">);</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">addOne</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="mi">41</span><span class="o">);</span>
<span class="n">Integer</span> <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(){});</span>
<span class="c1">// -&gt; 42</span></code></pre></div>

<h3 id="json-inputoutput">JSON input/output</h3>

<p>Call an algorithm with JSON input by simply passing in a type that can be serialized to JSON, including most plain old java objects and collection types. If the algorithm output is JSON, call the <code>as</code> method on the response with a <code>TypeToken</code> containing the type that it should be deserialized into:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">com.algorithmia.TypeToken</span><span class="o">;</span>

<span class="n">Algorithm</span> <span class="n">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;algo://WebPredict/ListAnagrams/0.1.0&quot;</span><span class="o">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">words</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">((</span><span class="s">&quot;transformer&quot;</span><span class="o">,</span> <span class="s">&quot;terraforms&quot;</span><span class="o">,</span> <span class="s">&quot;retransform&quot;</span><span class="o">);</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="n">words</span><span class="o">);</span>
<span class="c1">// WebPredict/ListAnagrams returns a JSON array of strings, so change to Java array</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">anagrams</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;(){});</span>
<span class="c1">// -&gt; [&quot;transformer&quot;, &quot;retransform&quot;]</span></code></pre></div>

<p>If you already have serialized JSON, you can use <code>pipeJson</code> and call <code>asJsonString</code> on the response:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Algorithm</span> <span class="n">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;algo://WebPredict/ListAnagrams/0.1.0&quot;</span><span class="o">);</span>
<span class="n">String</span> <span class="n">jsonWords</span> <span class="o">=</span> <span class="s">&quot;[\&quot;transformer\&quot;, \&quot;terraforms\&quot;, \&quot;retransform\&quot;]&quot;</span><span class="o">;</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipeJson</span><span class="o">(</span><span class="n">jsonWords</span><span class="o">);</span>
<span class="n">response</span><span class="o">.</span><span class="na">asJsonString</span><span class="o">();</span>
<span class="c1">// -&gt; &quot;[\&quot;transformer\&quot;, \&quot;retransform\&quot;]&quot;</span></code></pre></div>

<h3 id="binary-inputoutput">Binary input/output</h3>

<p>Call an algorithm with binary input by passing a <code>byte[]</code> into the <code>pipe</code> method. If the algorithm response is binary data, then call the <code>as</code> method on the response with a <code>byte[]</code> TypeToken to obtain the raw byte array.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">com.algorithmia.TypeToken</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.io.FileUtils</span><span class="o">;</span>

<span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">URL</span><span class="o">(</span><span class="s">&quot;https://stopthehitch.files.wordpress.com/2013/06/arnold-schwarzenegger-1920x1080.jpg&quot;</span><span class="o">);</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">IOUtils</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">(</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">().</span><span class="na">getInputStream</span><span class="o">());</span>
<span class="c1">// Call SmartThumbnail algorithm passing in byte array as input</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;opencv/SmartThumbnail/0.1&quot;</span><span class="o">).</span><span class="na">pipe</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">[]&gt;(){});</span>
<span class="c1">// -&gt; [byte array]</span></code></pre></div>

<h3 id="error-handling">Error Handling</h3>

<p>API errors will result in the call to <code>pipe</code> throwing <code>APIException</code>. Errors that occur durring algorithm execution will result in <code>AlgorithmException</code> when attempting to read the response.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Algorithm</span> <span class="n">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;util/whoopsWrongAlgo&quot;</span><span class="o">)</span>
<span class="k">try</span> <span class="o">{</span>
    <span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="o">);</span>
    <span class="n">String</span> <span class="n">output</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">asString</span><span class="o">();</span>
    <span class="n">algoOutput</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">output</span><span class="o">)</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">AlgorithmException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">AlgoFailure</span> <span class="n">failure</span> <span class="o">=</span> <span class="o">(</span><span class="n">AlgoFailure</span><span class="o">)</span> <span class="n">response</span><span class="o">;</span>
    <span class="n">algoOutput</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Algorithm Error: &quot;</span> <span class="o">+</span> <span class="n">failure</span><span class="o">.</span><span class="na">error</span><span class="o">);</span>
<span class="o">}</span></code></pre></div>

<h3 id="request-options">Request Options</h3>
<p>The client exposes options that can configure algorithm requests. This includes support for changing the timeout or indicating that the API should include stdout in the response:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// setTimeout takes long class, set to 10 minutes</span>
<span class="kt">long</span> <span class="n">lg</span> <span class="o">=</span> <span class="mi">600L</span><span class="o">;</span>
<span class="n">Algorithm</span> <span class="n">algo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">algo</span><span class="o">(</span><span class="s">&quot;algo://demo/Hello/0.1.1&quot;</span><span class="o">)</span>
                         <span class="o">.</span><span class="na">setTimeout</span><span class="o">(</span><span class="n">lg</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">MINUTES</span><span class="o">)</span>
                         <span class="o">.</span><span class="na">setStdout</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">AlgoResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="na">pipe</span><span class="o">(</span><span class="s">&quot;HAL 9000&quot;</span><span class="o">);</span>
<span class="n">response</span><span class="o">.</span><span class="na">asJsonString</span><span class="o">();</span>
<span class="c1">// -&gt; &quot;Hello Hal 9000&quot;</span></code></pre></div>

<p><strong>Note:</strong> setStdout(true) is ignored if you do not have access to the algorithm source.</p>

<h2 id="working-with-data">Working with Data</h2>

<p>The Algorithmia Android client also provides a way to manage both Algorithmia hosted data
and data from Dropbox or S3 accounts that you’ve connected to you Algorithmia account.</p>

<p>This client provides a <code>DataFile</code> type (generally created by <code>client.file(uri)</code>)
and a <code>DataDir</code> type (generally created by <code>client.dir(uri)</code>) that provide
methods for managing your data.</p>

<h3 id="create-directories">Create directories</h3>

<p>Create directories by instantiating a <code>DataDirectory</code> object and calling <code>create()</code>:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DataDirectory</span> <span class="n">robots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/robots&quot;</span><span class="o">);</span>
<span class="n">robots</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>

<span class="n">DataDirectory</span> <span class="n">dbxRobots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;dropbox://robots&quot;</span><span class="o">);</span>
<span class="n">dbxRobots</span><span class="o">.</span><span class="na">create</span><span class="o">();</span></code></pre></div>

<h3 id="upload-files-to-a-directory">Upload files to a directory</h3>

<p>Upload files by calling <code>put</code> on a <code>DataFile</code> object, or by calling <code>putFile</code> on a <code>DataDirectory</code> object.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DataDirectory</span> <span class="n">robots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/robots&quot;</span><span class="o">);</span>

<span class="c1">// Upload local file - for example this path and file could be from sdcard.</span>
<span class="n">robots</span><span class="o">.</span><span class="na">putFile</span><span class="o">(</span><span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="s">&quot;/path/to/Optimus_Prime.png&quot;</span><span class="o">));</span>
<span class="c1">// Write a text file</span>
<span class="n">robots</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;Optimus_Prime.txt&quot;</span><span class="o">).</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Leader of the Autobots&quot;</span><span class="o">);</span>
<span class="c1">// Write a binary file</span>
<span class="n">robots</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;Optimus_Prime.key&quot;</span><span class="o">).</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="kt">byte</span><span class="o">[]</span> <span class="o">{</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="mh">0xe0</span><span class="o">,</span> <span class="mh">0x4f</span><span class="o">,</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="mh">0xd0</span><span class="o">,</span> <span class="mh">0x20</span> <span class="o">});</span></code></pre></div>

<h3 id="download-contents-of-file">Download contents of file</h3>

<p>Download files by calling <code>getString</code>, <code>getBytes</code>, or <code>getFile</code> on a DataFile object:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DataDirectory</span> <span class="n">robots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/robots&quot;</span><span class="o">);</span>

<span class="c1">// Download file and get the file handle</span>
<span class="n">File</span> <span class="n">OPFile</span> <span class="o">=</span> <span class="n">robots</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;Optimus_Prime.txt&quot;</span><span class="o">).</span><span class="na">getFile</span><span class="o">();</span>

<span class="c1">// Get the file&#39;s contents as a string</span>
<span class="n">String</span> <span class="n">OPText</span> <span class="o">=</span> <span class="n">robots</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;Optimus_Prime.txt&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">();</span>

<span class="c1">// Get the file&#39;s contents as a byte array</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">OPBytes</span> <span class="o">=</span> <span class="n">robots</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;Optimus_Prime.png&quot;</span><span class="o">).</span><span class="na">getBytes</span><span class="o">();</span></code></pre></div>

<h3 id="delete-files-and-directories">Delete files and directories</h3>

<p>Delete files and directories by calling <code>delete</code> on their respective <code>DataFile</code> or <code>DataDirectory</code> object.
<code>DataDirectories</code> take an optional <code>force</code> parameter that indicates whether the directory should be deleted
if it contains files or other directories.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">client</span><span class="o">.</span><span class="na">file</span><span class="o">(</span><span class="s">&quot;data://.my/robots/Optimus_Prime.txt&quot;</span><span class="o">).</span><span class="na">delete</span><span class="o">();</span>
<span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/robots&quot;</span><span class="o">).</span><span class="na">delete</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span></code></pre></div>

<h3 id="list-directory-contents">List directory contents</h3>

<p>Iterate over the contents of a directory using the iterator returned by calling <code>files</code>, or <code>dirs</code> on a <code>DataDirectory</code> object:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// List top level directories</span>
<span class="n">DataDirectory</span> <span class="n">myRoot</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my&quot;</span><span class="o">);</span>
<span class="k">for</span><span class="o">(</span><span class="n">DataDirectory</span> <span class="n">dir</span> <span class="o">:</span> <span class="n">myRoot</span><span class="o">.</span><span class="na">dirs</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Directory &quot;</span> <span class="o">+</span> <span class="n">dir</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; at URL &quot;</span> <span class="o">+</span> <span class="n">dir</span><span class="o">.</span><span class="na">getUrl</span><span class="o">());</span>
<span class="o">}</span>

<span class="c1">// List files in the &#39;robots&#39; directory</span>
<span class="n">DataDirectory</span> <span class="n">robots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/robots&quot;</span><span class="o">);</span>
<span class="k">for</span><span class="o">(</span><span class="n">DataFile</span> <span class="n">file</span> <span class="o">:</span> <span class="n">robots</span><span class="o">.</span><span class="na">files</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;File &quot;</span> <span class="o">+</span> <span class="n">file</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; at URL: &quot;</span> <span class="o">+</span> <span class="n">file</span><span class="o">.</span><span class="na">getUrl</span><span class="o">());</span>
<span class="o">}</span></code></pre></div>

<h3 id="manage-directory-permissions">Manage directory permissions</h3>

<p>Directory permissions may be set when creating a directory, or may be updated on already existing directories.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DataDirectory</span> <span class="n">fooLimited</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">dir</span><span class="o">(</span><span class="s">&quot;data://.my/fooLimited&quot;</span><span class="o">);</span>

<span class="c1">// Create the directory as private</span>
<span class="n">fooLimited</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">DataAcl</span><span class="o">.</span><span class="na">PRIVATE</span><span class="o">);</span>

<span class="c1">// Update a directory to be public</span>
<span class="n">fooLimited</span><span class="o">.</span><span class="na">updatePermissions</span><span class="o">(</span><span class="n">DataAcl</span><span class="o">.</span><span class="na">PUBLIC</span><span class="o">);</span>

<span class="c1">// Check a directory&#39;s permissions</span>
<span class="k">if</span> <span class="o">(</span><span class="n">fooLimited</span><span class="o">.</span><span class="na">getPermissions</span><span class="o">().</span><span class="na">getReadPermissions</span><span class="o">()</span> <span class="o">==</span> <span class="n">DataAclType</span><span class="o">.</span><span class="na">PRIVATE</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;fooLimited is private&quot;</span><span class="o">);</span>
<span class="o">}</span></code></pre></div>

					<hr />

					<footer class="page-footer">
						<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=The%20Android%20Client&amp;url=http://developers.algorithmia.com/application-development/client-guides/android&amp;via=algorithmia" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://developers.algorithmia.com/application-development/client-guides/android" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=http://developers.algorithmia.com/application-development/client-guides/android" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->

						<div class="page-meta">
  <p>Updated

    <time datetime="2016-11-07T00:00:00Z" itemprop="datePublished">November 07, 2016</time></p>
  
</div><!-- /.page-meta --><hr />
						
<!--<div class="author-image">
	<img src="http://developers.algorithmia.com/images//authors/bio-photo.jpg" alt="Algorithmia">
</div> ./author-image -->

<div class="author-content">
  <h4 class="author-name" >Written by

    <a href="http://developers.algorithmia.com/" itemprop="author">Algorithmia</a>

  <p class="author-bio"></p>

  <a href="http://twitter.com/algorithmia" class="btn-social twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  <a href="mailto:mia@algorithmia.com" class="btn-social youtube"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  
</div><!-- ./author-content -->
					</footer><!-- /.footer -->

					<aside>
						
					</aside>

				</div><!-- /.content -->
			</div><!-- /.inner-wrap -->
			<div class="sidebar"><h3>Related Posts:</h3>

    <!-- Pulls from data/tags.yml to allow for data defined name attr -->
  
  <h4>Clients</h4>
  <ul>
  
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/r">The R Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/node">The Node Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/rust">The Rust Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/curl">Working with cURL</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/aws-lambda">AWS Lambda</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/scala">Algorithmia & Scala</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/ruby">The Ruby Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/python">The Python Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/java">The Java Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/cli">The CLI Client</a></h5>
</li>
    
      <li class="list-index">
  <h5><a href="http://developers.algorithmia.com/application-development/client-guides/javascript">The Javascript Library</a></h5>
</li>
    
  </ul>

</div>
		</article><!-- ./wrap -->
	</div><!-- /#main -->

</div>
      
    </div> <!-- end wrapper -->

    <footer role="contentinfo" id="site-footer">
 <p class="copyright">
    <img src="http://developers.algorithmia.com/images/favicon-white.png" alt="Algorithmia Developer Center" itemprop="image" width="16" height="16">
    &#169; 2016 Algorithmia
  </p>

  <nav role="navigation" class="bottom-menu">
    <ul class="menu-item">
    
      
        
        
      <li><a href="https://algorithmia.com/about" target="_blank">About</a></li>
    
      
        
        
      <li><a href="https://algorithmia.com/terms" target="_blank">Terms</a></li>
    
      
        
        
      <li><a href="https://algorithmia.com/pricing" target="_blank">Pricing</a></li>
    
      
        
        
      <li><a href="https://algorithmia.com/privacy" target="_blank">Privacy</a></li>
    
      
        
        
      <li><a href="https://algorithmia.com/partners" target="_blank">Partners</a></li>
    
      
        
        
      <li><a href="http://blog.algorithmia.com" target="_blank">Blog</a></li>
    
      
        
        
      <li><a href="https://angel.co/algorithmia/jobs/" target="_blank">Jobs</a></li>
    
      
        
        
      <li><a href="https://algorithmia.com/contact" target="_blank">Contact</a></li>
    
    </ul>
  </nav><!-- /.bottom-menu -->
</footer>


    <script src="http://developers.algorithmia.com/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="http://developers.algorithmia.com/js/main.js"></script>
    <script src="/js/search.min.js" type="text/javascript" charset="utf-8"></script>
  </body>
</html>
